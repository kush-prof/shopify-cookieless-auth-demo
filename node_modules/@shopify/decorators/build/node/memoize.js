"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = memoize;

var _functionEnhancers = require("@shopify/function-enhancers");

function memoize(resolver) {
  return function (_target, propertyKey, descriptor) {
    const {
      value: method
    } = descriptor;

    if (!method || !(method instanceof Function)) {
      return descriptor;
    }

    return {
      get: function get() {
        const newDescriptor = {
          configurable: true,
          value: (0, _functionEnhancers.memoize)(method, resolver)
        };
        Object.defineProperty(this, propertyKey, newDescriptor);
        return newDescriptor.value;
      }
    };
  };
}